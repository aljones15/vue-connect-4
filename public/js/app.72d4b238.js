(function(t){function n(n){for(var r,c,a=n[0],u=n[1],s=n[2],f=0,h=[];f<a.length;f++)c=a[f],i[c]&&h.push(i[c][0]),i[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(n);while(h.length)h.shift()();return o.push.apply(o,s||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,a=1;a<e.length;a++){var u=e[a];0!==i[u]&&(r=!1)}r&&(o.splice(n--,1),t=c(c.s=e[0]))}return t}var r={},i={app:0},o=[];function c(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=r,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)c.d(e,r,function(n){return t[n]}.bind(null,r));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="https://connect4vue.herokuapp.com/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=n,a=a.slice();for(var s=0;s<a.length;s++)n(a[s]);var l=u;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var r=e("c21b"),i=e.n(r);i.a},"11f1":function(t,n,e){"use strict";var r=e("df97"),i=e.n(r);i.a},"1b0d":function(t,n,e){},3092:function(t,n,e){},"394f":function(t,n,e){"use strict";var r=e("1b0d"),i=e.n(r);i.a},"4ffc":function(t,n,e){"use strict";var r=e("cce1"),i=e.n(r);i.a},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("097d");var r=e("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("Main",{attrs:{msg:"Connect 4"}})],1)},o=[],c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("Header",{attrs:{msg:t.msg}}),e("GameOptions"),e("Grid")],1)},a=[],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("vk-navbar-full",{staticClass:"uk-navbar-transparent"},[e("vk-navbar-logo",{attrs:{slot:"center"},slot:"center"},[e("h1",[t._v(t._s(t.msg))])])],1)},s=[],l={name:"Header",props:["msg"]},f=l,h=(e("80b1"),e("2877")),v=Object(h["a"])(f,u,s,!1,null,"3a819f20",null);v.options.__file="Header.vue";var p=v.exports,d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"grid"}},t._l(t.grid,function(n,r){return e("div",{key:r,staticClass:"row"},t._l(n,function(t,n){return e("Square",{key:n,staticClass:"uk-width-1-7",attrs:{tile:t}})}))}))},g=[],y=e("c93e"),m=e("2f62"),b=function(){var t,n,e=this,r=e.$createElement,i=e._self._c||r;return i("span",{staticClass:"square uk-flex uk-flex-center",on:{click:function(t){e.move(e.tile)}}},[i("div",{staticClass:"circle middle fall-in",class:(t={highlight:e.highlight,winner:e.tile.winner},t[e.tile.color]=e.tile.color,t)}),i("div",{staticClass:"circle lens",class:(n={highlight:e.highlight,taken:e.tile.taken},n[e.tile.color]=e.tile.color,n)}),i("div",{staticClass:"circle bottom white"})])},w=[],k={name:"Square",props:{tile:{type:Object,default:null}},methods:Object(y["a"])({move:function(t){if(this.won&&!this.tile.winner)return null;if(this.won&&this.tile.winner)return this.reset();var n=this.currentPlayer.plotMove(t,this.grid);n&&this.endRound({move:n,player:this.currentPlayer})}},Object(m["b"])(["endRound"]),Object(m["d"])(["reset"])),computed:Object(y["a"])({},Object(m["c"])(["currentPlayer"]),Object(m["e"])({grid:function(t){return t.board},won:function(t){return t.won}}),{highlight:function(){return!this.tile.taken&&this.tile.legal}})},_=k,O=(e("4ffc"),Object(h["a"])(_,b,w,!1,null,"30891401",null));O.options.__file="Square.vue";var M=O.exports,j={name:"Grid",computed:Object(y["a"])({},Object(m["e"])({grid:function(t){return t.board}})),components:{Square:M}},P=j,x=(e("394f"),Object(h["a"])(P,d,g,!1,null,"521ee89c",null));x.options.__file="Grid.vue";var C=x.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("vk-grid",{staticClass:"game-options",attrs:{divided:""}},[e("div",{staticClass:"uk-width-1-5"},[e("vk-icon",{staticClass:"glow",attrs:{icon:"users"},on:{click:t.swapPlayers}}),e("span",{staticClass:"bump-right"},t._l(t.players,function(t){return e("PlayerAvatar",{key:t.color,attrs:{player:t}})}))],1),e("div",{staticClass:"uk-width-1-5"},[e("vk-icon",{attrs:{icon:"play-circle"}}),e("span",{staticClass:"bump-right"},[t._v(t._s(t.round))])],1),e("div",{staticClass:"uk-width-1-5"},[e("vk-icon",{attrs:{icon:"bolt"}}),e("span",{staticClass:"bump-right"},[t._v("Total")]),e("div",[t._v(t._s(t.winners.length))])],1),e("div",{staticClass:"uk-width-1-5"},[e("vk-icon",{attrs:{icon:"refresh"},on:{click:t.reset}})],1)])},H=[],z=e("9393"),E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.human?e("span",{staticClass:"spacey",class:{active:t.isActive}},[e("vk-icon",{attrs:{icon:"user"}}),e("span",[t._v(t._s(t.wins))])],1):e("span",{staticClass:"spacey",class:{active:t.isActive}},[e("RobotIcon"),e("span",[t._v(t._s(t.wins))])],1)},V=[],I=function(t,n){var e=n._c;return e("svg",{staticStyle:{"enable-background":"new 0 0 511.999 511.999"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999","xml:space":"preserve",width:n.props.width*n.props.ratio,height:n.props.height*n.props.ratio}},[e("g",[e("g",[e("path",{attrs:{d:"M424.464,226.038h-31.289c-4.637,0-8.394,3.758-8.394,8.394v17.485H370.51v-17.485c0-4.636-3.757-8.394-8.394-8.394    h-34.743v-17.351h34.743c4.637,0,8.394-3.758,8.394-8.394V66.121c0-20.285-16.502-36.787-36.787-36.787h-69.329V8.394    c0-4.636-3.757-8.394-8.394-8.394c-4.637,0-8.394,3.758-8.394,8.394v20.939h-69.33c-20.285,0-36.787,16.503-36.787,36.787v134.173    c0,4.636,3.757,8.394,8.394,8.394h34.744v17.351h-34.744c-4.637,0-8.394,3.758-8.394,8.394v17.485h-14.271v-17.485    c0-4.636-3.757-8.394-8.394-8.394h-31.29c-4.637,0-8.394,3.758-8.394,8.394v169.096c0,4.636,3.757,8.394,8.394,8.394h31.289    c4.637,0,8.394-3.758,8.394-8.394V303.215h14.271v68.203c0,4.636,3.757,8.394,8.394,8.394h14.9v75.713h-10.586    c-4.637,0-8.394,3.758-8.394,8.394v39.686c0,4.636,3.757,8.394,8.394,8.394h70.744c4.637,0,8.394-3.758,8.394-8.394v-39.686    c0-4.636-3.757-8.394-8.394-8.394h-10.585v-75.713h83.289v75.713h-10.586c-4.637,0-8.394,3.758-8.394,8.394v39.686    c0,4.636,3.757,8.394,8.394,8.394h70.744c4.637,0,8.394-3.758,8.394-8.394v-39.686c0-4.636-3.757-8.394-8.394-8.394h-10.585    v-75.713h14.9c4.637,0,8.394-3.758,8.394-8.394v-68.203h14.271v100.312c0,4.636,3.757,8.394,8.394,8.394h31.289    c4.637,0,8.394-3.758,8.394-8.394V234.431C432.857,229.796,429.1,226.038,424.464,226.038z M110.43,395.134H95.929V242.826h14.501    V395.134z M141.489,286.428h-14.271v-17.723h14.271V286.428z M158.276,191.9V66.121c0-11.028,8.972-20,20-20h155.447    c11.028,0,20,8.972,20,20V191.9H158.276z M310.586,208.686v17.351H201.414v-17.351H310.586z M216.547,472.314v22.898h-53.957    v-22.898H216.547z M181.571,455.526v-75.713h15.998v75.713H181.571z M349.409,472.314v22.898h-53.957v-22.898H349.409z     M314.433,455.526v-75.713h15.998v75.713h0H314.433z M353.723,363.024H158.276V242.826h195.446V363.024z M384.781,286.428H370.51    v-17.723h14.271V286.428z M416.07,395.134h-14.501V242.826h14.501V395.134z"}})])]),e("g",[e("g",[e("path",{attrs:{d:"M204.236,84.744c-20.803,0-37.727,16.924-37.727,37.726c0,20.802,16.924,37.726,37.727,37.726    c20.802,0.001,37.726-16.923,37.726-37.726C241.963,101.668,225.039,84.744,204.236,84.744z M204.236,143.409    c-11.545,0-20.94-9.392-20.94-20.939c0-11.545,9.394-20.939,20.94-20.939c11.545,0,20.939,9.393,20.939,20.939    C225.175,134.016,215.782,143.409,204.236,143.409z"}})])]),e("g",[e("g",[e("path",{attrs:{d:"M307.765,84.744c-20.803,0-37.727,16.924-37.727,37.726c0,20.802,16.924,37.727,37.727,37.727    c20.802,0,37.726-16.924,37.726-37.726S328.567,84.744,307.765,84.744z M307.765,143.409c-11.545,0-20.94-9.393-20.94-20.939    c0-11.545,9.393-20.939,20.94-20.939c11.545,0,20.939,9.393,20.939,20.939C328.703,134.016,319.31,143.409,307.765,143.409z"}})])]),e("g",[e("g",[e("path",{attrs:{d:"M256.001,270.9c-30.317,0-54.982,24.664-54.982,54.982c0,4.636,3.757,8.394,8.394,8.394h93.176    c4.637,0,8.394-3.758,8.394-8.394C310.982,295.565,286.318,270.9,256.001,270.9z M218.735,317.488    c3.835-17.036,19.089-29.8,37.265-29.8c18.177,0,33.43,12.764,37.265,29.8H218.735z"}})])]),e("g",[e("g",[e("circle",{attrs:{cx:"326.744",cy:"267.215",r:"8.394"}})])]),e("g",[e("g",[e("circle",{attrs:{cx:"185.257",cy:"267.215",r:"8.394"}})])]),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g"),e("g")])},S=[],R=(e("c5f6"),{functional:!0,inheritAttrs:!0,props:{ratio:{type:[Number,String],default:1},width:{default:20},height:{default:20},viewBox:{default:"0 0 20 20"}}}),N=R,G=Object(h["a"])(N,I,S,!0,null,null,null);G.options.__file="RobotIcon.vue";var $=G.exports,U={HUMAN:"HUMAN",AI:"AI"},q=U,T={name:"PlayerAvatar",props:["player"],computed:Object(y["a"])({human:function(){return!!this.player.type&&this.player.type===q.HUMAN},isActive:function(){var t=this.player.color===this.currentPlayer.color;return t},wins:function(){var t=this;return this.winners.filter(function(n){return n.color===t.player.color}).length}},Object(m["c"])(["currentPlayer"]),Object(m["e"])(["winners"])),components:{RobotIcon:$}},B=T,J=(e("ee3f"),Object(h["a"])(B,E,V,!1,null,"3dd0c45d",null));J.options.__file="PlayerAvatar.vue";var W=J.exports,L=e("c665"),D=e("aa9a"),F={white:"white",red:"red",blue:"blue"},K=F;e("55dd"),e("7514"),e("ac6a");function Q(t){return t.reduce(function(t,n){return t.concat(n)},[])}function X(t){var n=t.length-1;return n<=0?n[0]:t[n]}function Y(t,n){return t[n.row]&&t[n.row][n.col]}function Z(t,n){var e=function(t,e){var r=t.length-1,i=e>0?e-1:0,o=e===r?e+1:e+2;return n[t].slice(i,o)},r=n.length-1,i=t.key,o=i.col,c=i.row,a=c-1,u=a>=0?e(a,o):[],s=c!==r?e(c+1,o):[],l=e(c,o);return[u,l,s]}function tt(t,n){var e=n.col,r=n.row;return{row:r-t.row,col:e-t.col}}function nt(t,n){return{row:n.key.row+t.row,col:n.key.col+t.col}}function et(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=Q(Z(t,n)).filter(function(t){return t}),i=t.key,o=[];return r.forEach(function(r){if(r===t)return null;var c=[t,r];o.push(c);var a=r.key,u=tt(i,a);while(c.length<e)try{var s=function(){var t=X(c),e=Q(Z(t,n)).filter(function(t){return t}),r=nt(u,t),i=e.find(function(t){return t.key.row===r.row&&t.key.col===r.col});if(!i)return"break";c.push(i)}();if("break"===s)break}catch(t){console.error(t);break}}),o.filter(function(t){return t.length===e})}function rt(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?t.map(function(t){return t.filter(function(t){return t.color===n})}):t.map(function(t){return t.map(function(t){return t.color===n&&t})})}function it(t,n,e){var r=!0,i=rt(t,n),o=Q(rt(t,n,r)),c=e||Q(o.map(function(t){return et(t,i)})),a=function(n){var e=Object(z["a"])(n,3),r=e[0],i=e[1],o=e[2],c=r.key,a=i.key,u=tt(c,a),s=nt(u,o),l=Y(t,s);return!(!l||!l.legal)&&(n.push(l),n)},u=[];return c.forEach(function(t){var n=a(t);n&&u.push(n)}),u}function ot(t){return t.map(function(t){return t.find(function(t){return!t.taken})})}function ct(t,n){var e=Q(rt(t,n,!0)),r=rt(t,n),i=ot(it(t,n)),o=ot(at(t,r,e));return i.concat(o)}function at(t,n,e){var r=2,i=Q(e.map(function(t){return et(t,n,r)})),o=function(n){var e=Object(z["a"])(n,2),r=e[0],i=e[1],o=r.key,c=i.key,a=tt(o,c),u=nt(a,i),s=Y(t,u),l=s&&s.legal&&!s.taken;if(l){var f=Y(t,nt(a,s)),h=f&&f.color===i.color;if(h)return n.push(s,f),n}return!1},c=[];return i.forEach(function(t){var n=o(t);n&&c.push(n)}),c}function ut(t,n){var e=!0,r=4,i=Q(rt(t,n.color,e)),o=rt(t,n.color),c=i.map(function(t){return et(t,o,r)}),a=c.some(function(t){return t.length>0});return a&&c.forEach(function(t){return t.forEach(function(t){return t.forEach(function(t){return t.winner=!0})})}),a}var st=function(){function t(n){Object(L["a"])(this,t),this.currentRound=null,this.nextRound=null,this.color=n,this._pieces=[],this._mycolor=[]}return Object(D["a"])(t,[{key:"getMove",value:function(t,n){this.pieces=t,this.myColor=t;var e=it(t,this.color).map(function(t){return t.find(function(t){return!t.taken})}),r=at(t,this.myColor,this.pieces).map(function(t){return t.find(function(t){return!t.taken})}),i=e.concat(r).filter(function(t){return t});if(i.length)return i[0];var o=this.color===K.red?K.blue:K.red,c=ct(t,o);if(c.length)return c[0];var a=function(t,n){var e=4===t.key.row,r=4===n.key.row;return e?1:r?1:-1},u=Q(n.map(function(n,e){return n.map(function(n,r){if(n)return t[e][r]})})).filter(function(t){return t}).sort(a);return u[0]}},{key:"pieces",get:function(){return this._pieces},set:function(t){var n=!0;this._pieces=Q(rt(t,this.color,n))}},{key:"myColor",get:function(){return this._mycolor},set:function(t){this._mycolor=rt(t,this.color)}}]),t}(),lt=st;function ft(t){var n=t.length-1;function e(n,e){if(0===n)return!1;var r=n-1;return!t[r][e].taken}function r(e,r){if(e===n)return!1;var i=e+1;return t[i][r].taken}return t.map(function(t,i){return t.map(function(t,o){if(i===n){var c=e(i,o)&&!t.taken;return c}return r(i,o)&&!t.taken})})}function ht(t){var n=ft(t);return t.map(function(t,e){return t.map(function(t,r){return t.legal=n[e][r],t})})}var vt=ft,pt=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(L["a"])(this,t),this.type=n,this.wins=0,this.color=e?K.red:K.blue,this.type===q.AI&&(this.ai=new lt(this.color))}return Object(D["a"])(t,[{key:"produceMove",value:function(t){var n=t.key,e={key:n,color:this.color};return e}},{key:"plotMove",value:function(t,n){var e=vt(n);if(this.type===q.HUMAN){var r=t.key,i=r.row,o=r.col,c=e[i][o];return c?this.produceMove(t):null}var a=this.ai.getMove(n,e);return this.produceMove(a)}}]),t}(),dt=pt,gt={name:"GameOptions",computed:Object(y["a"])({},Object(m["e"])({round:function(t){return t.round},players:function(t){return t.players},winners:function(t){return t.winners}})),methods:Object(y["a"])({swapPlayers:function(){var t=Object(z["a"])(this.players,2),n=t[0],e=t[1];if(e.type===q.AI){var r=new dt(q.HUMAN);return this.selectPlayer([n,r])}var i=new dt(q.AI);return this.selectPlayer([n,i])}},Object(m["d"])(["selectPlayer","reset"])),components:{PlayerAvatar:W}},yt=gt,mt=(e("11f1"),Object(h["a"])(yt,A,H,!1,null,"8e9709ba",null));mt.options.__file="GameOptions.vue";var bt=mt.exports,wt={name:"Main",props:["msg"],components:{Header:p,Grid:C,GameOptions:bt}},kt=wt,_t=(e("e74e"),Object(h["a"])(kt,c,a,!1,null,"35da1df8",null));_t.options.__file="Main.vue";var Ot=_t.exports,Mt={name:"app",components:{Main:Ot}},jt=Mt,Pt=(e("034f"),Object(h["a"])(jt,i,o,!1,null,null,null));Pt.options.__file="App.vue";var xt=Pt.exports,Ct=e("6d68"),At=e("5320"),Ht=e("5a3a"),zt=e.n(Ht),Et=function(){function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K.white;Object(L["a"])(this,t),this.key={row:n,col:e},this._color=r,this._taken=!1,this._legal=!1,this.winner=!1}return Object(D["a"])(t,[{key:"color",get:function(){return this._color},set:function(t){this._color=t}},{key:"taken",get:function(){return this._taken},set:function(t){this._taken=!0,this._legal=!1,this.color=t}},{key:"legal",get:function(){return this._legal},set:function(t){this._legal=t}}]),t}();function Vt(){var t=zt()(6).map(function(t){return zt()(7).map(function(n){return new Et(t,n)})});return ht(t)}var It=!0,St=new dt(q.HUMAN,It),Rt=new dt(q.AI),Nt={players:[St,Rt],round:0,currentPlayer:!1,winners:[],won:!1,board:Vt(),thinking:!1},Gt=Nt,$t=(e("7cdf"),{selectPlayer:function(t,n){t.players=n},makeMove:function(t,n){var e=n.key,r=n.color,i=e.row,o=e.col;if(!Number.isInteger(i)||!Number.isInteger(o)||!r)throw new Error("Invalid Move");t.board[i][o].taken=r,t.board=ht(t.board)},thinking:function(t,n){t.thinking=n},incrementRound:function(t){t.round++,t.currentPlayer=!t.currentPlayer},declareWinnner:function(t,n){t.won=!0,t.winners.push(n)},reset:function(t){t.round=0,t.board=Vt(),t.thinking=!1,t.currentPlayer=!1,t.won=!1}}),Ut=$t,qt={currentPlayer:function(t){var n=Number(t.currentPlayer);return t.players&&t.players[n]?t.players[n]:null}},Tt=qt,Bt={endRound:function(t,n){var e=t.commit,r=t.state,i=t.getters,o=t.dispatch,c=n.move,a=n.player;if(r.won)return null;e("makeMove",c);var u=ut(r.board,a);if(u&&e("declareWinnner",a),e("incrementRound"),i.currentPlayer.type===q.AI&&!u){var s=i.currentPlayer.plotMove(null,r.board);setTimeout(o,720,"endRound",{move:s,player:i.currentPlayer})}}},Jt=Bt;function Wt(){return new m["a"].Store({state:Gt,getters:Tt,mutations:Ut,actions:Jt})}var Lt=Wt;e("1941");e.d(n,"store",function(){return Dt}),r["a"].use(Ct["a"]),r["a"].use(At["a"]),r["a"].use(m["a"]),r["a"].config.productionTip=!1;var Dt=Lt();new r["a"]({render:function(t){return t(xt)},store:Dt}).$mount("#app")},"77c6":function(t,n,e){},"80b1":function(t,n,e){"use strict";var r=e("3092"),i=e.n(r);i.a},c21b:function(t,n,e){},cce1:function(t,n,e){},d8fa:function(t,n,e){},df97:function(t,n,e){},e74e:function(t,n,e){"use strict";var r=e("d8fa"),i=e.n(r);i.a},ee3f:function(t,n,e){"use strict";var r=e("77c6"),i=e.n(r);i.a}});
//# sourceMappingURL=app.72d4b238.js.map